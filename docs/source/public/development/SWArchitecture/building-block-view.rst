Building block view
===================

.. _whitebox_overall_system:

Whitebox Overall System
-----------------------

.. image:: ./diagrams/02_PackageStructure.jpg

Code blocks (cyan, stereotype <<package>>) can use data source blocks (blue, <<data store>>). Data source blocks are either pre-defined data or accumulated data generated by CESAR-P.

Important Interfaces
~~~~~~~~~~~~~~~~~~~~~~~~

The building block "cesar manager" is the main interface for the user.

**manager**
cesarp.manager.SimulationManager resp cesarp.manager.ProjectManager are the central
classes organizing the workflow.
cesarp.manager.BldgModelFactory is the class wiring together all parts needed to 
create a building model.

**retrofit**
Has manager classes to control simulation workflow in case retrofit is needed.

**geometry**
Converts footprint shape data to full building shape data required for an E+ simulation. Sets windows according to given glazing ratio.
Creates the neighbourhood information considering adjacent buildings and shading objects within a given ratio.

**construction**
Assemble building insulation, wall, floor and other properties given age class or retrofitting year (past or future).

**graphdb_access**
Read constructional data from GraphDB. 
Currently a mix of pure data access and buisiness logic to map DB data into the model objects.

**operation**
Assemble usage demands for electricity, domestic hot water, heating and cooling

**SIA2024**
Creates operation and infiltration parameters based on SIA2024 for different building types (e.g. Multi Family Home, Office, School).
Variability can be added to created parameters and schedules.


**site** 
Handles some fixed assignments regarding building location.

**weather**
Handles weather file assignment.

**model**
Representation of a building with all its properties.

**eplus_adapter**

* Given all the relevant information for a building simulation wiht the building model, the IDF generator assembels the IDF file out of this data. Manipulation of existing IDF Files shall also be supported.
* Controls the EnergyPlus simulation. Optionally saves metadata of simulation in order to be able to re-run the simulation.
